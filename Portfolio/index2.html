<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baddie Beauty Parlour</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Keep your existing CSS styles here */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff;
            color: #172554;
            line-height: 1.6;
        }
        .hero-section {
            background-image: url('images/bgimage.jpg');
            background-size: cover;
            background-position: center;
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.6);
        }
        .hero-content {
            z-index: 10;
        }
        .section-title {
            position: relative;
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
            font-family: 'Playfair Display', serif;
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background-color: #ca8a04;
            border-radius: 9999px;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 50;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            transform: scale(0.9);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .modal-overlay.active {
            display: flex;
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }
        .animate-pulse-slow {
            animation: pulse-slow 3s infinite;
        }
        @keyframes pulse-slow {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }
        .chatbot-window {
            display: none;
            flex-direction: column;
            width: 350px;
            height: 450px;
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #f0f9ff;
        }
        .message {
            max-width: 85%;
            padding: 0.5rem 0.75rem;
            border-radius: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .user-message {
            background-color: #ca8a04;
            color: #fff;
            align-self: flex-end;
            margin-left: auto;
        }
        .bot-message {
            background-color: #e0f2fe;
            color: #172554;
            align-self: flex-start;
        }
        /* New CSS for M-Pesa Modal */
        #mpesa-modal .booking-summary {
            background-color: #f0fdf4;
            border: 1px solid #d0f0d0;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            text-align: left;
            color: #1a202c;
        }
        #mpesa-modal .booking-summary p {
            margin: 0.5rem 0;
            color: #1a202c;
            text-align: left;
        }
        #mpesa-modal .booking-summary strong {
            color: #00796b;
        }
    </style>
</head>
<body class="bg-sky-50 text-blue-950">

<nav class="fixed top-0 left-0 right-0 z-50 bg-white bg-opacity-80 backdrop-blur-md shadow-lg">
    <div class="container mx-auto flex justify-between items-center p-4">
        <a href="#" class="font-['Playfair_Display'] text-2xl font-bold text-amber-600">
            Baddie Beauty Parlour
        </a>
        <div class="space-x-8 hidden md:flex">
            <a href="#hero-section" class="text-blue-950 hover:text-amber-600 transition-colors duration-200">Home</a>
            <a href="#about" class="text-blue-950 hover:text-amber-600 transition-colors duration-200">About</a>
            <a href="#services-pricing" class="text-blue-950 hover:text-amber-600 transition-colors duration-200">Services & Pricing</a>
            <a href="#images" class="text-blue-950 hover:text-amber-600 transition-colors duration-200">Images</a>
            <a href="#contact" class="text-blue-950 hover:text-amber-600 transition-colors duration-200">Contact</a>
        </div>
        <button id="admin-login-btn-nav" class="hidden md:block bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-full transition duration-200">
            Admin Login
        </button>
    </div>
</nav>

<div id="hero-section" class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content text-center px-4">
        <h1 class="font-bold text-5xl md:text-7xl font-['Playfair_Display'] text-amber-700 tracking-wide mb-4">
            Baddie Beauty Parlour
        </h1>
        <p class="text-xl md:text-2xl font-light text-blue-900 max-w-2xl mx-auto mb-8">
            Elevate Your Style. Unleash Your Inner Baddie.
        </p>
        <button id="book-appointment-btn" class="bg-amber-600 text-white font-bold py-4 px-10 rounded-full shadow-lg hover:bg-amber-700 transition duration-300 transform hover:scale-105">
            BOOK APPOINTMENT
        </button>
    </div>
    <a href="#about" class="absolute bottom-12 text-blue-950 animate-pulse-slow">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 21a9 9 0 1 0-9-9 9 9 0 0 0 9 9zm0-16a7 7 0 1 1-7 7 7 7 0 0 1 7-7zm-1 9V8a1 1 0 0 1 2 0v5a1 1 0 0 1-2 0z"/>
        </svg>
    </a>
</div>

<div class="container mx-auto p-4 md:p-8 rounded-xl shadow-lg bg-white mt-12 mb-12">

    <section id="about" class="py-12">
        <h2 class="section-title text-3xl font-bold text-center text-blue-950 mb-8">About Us</h2>
        <div class="flex flex-col md:flex-row items-center gap-8 bg-blue-100 p-8 rounded-xl shadow-md border border-blue-200">
            <div class="md:w-1/2">
                <img src="images/team.jpg" onerror="this.src='https://placehold.co/700x400/555/fff?text=Our+Team'" alt="A professional team member smiling" class="w-full h-auto rounded-lg shadow-xl object-cover">
            </div>
            <div class="md:w-1/2 text-center md:text-left">
                <p class="text-blue-800 text-lg">
                    Welcome to Baddie Beauty Parlour, where we believe beauty is a form of art and self-expression. Our talented team is dedicated to providing you with a luxurious experience and stunning results that make you feel confident and beautiful.
                </p>
                <p class="text-blue-800 text-lg mt-4">
                    We use the highest quality products and the latest techniques to ensure every visit leaves you feeling pampered and radiant. Our goal is to bring your unique vision to life and unleash your inner baddie.
                </p>
            </div>
        </div>
    </section>

    <section id="services-pricing" class="py-12">
        <h2 class="section-title text-3xl font-bold text-center text-blue-950 mb-8">Services & Pricing</h2>
        <div id="services-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Services will be dynamically populated by JavaScript -->
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Haircut" data-price="1500">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Haircut</h3>
                <p class="text-xl font-bold text-amber-600">KSh 1500</p>
            </div>
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Manicure" data-price="1200">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Manicure</h3>
                <p class="text-xl font-bold text-amber-600">KSh 1200</p>
            </div>
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Pedicure" data-price="1300">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Pedicure</h3>
                <p class="text-xl font-bold text-amber-600">KSh 1300</p>
            </div>
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Facial" data-price="2500">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Facial</h3>
                <p class="text-xl font-bold text-amber-600">KSh 2500</p>
            </div>
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Makeup" data-price="3000">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Makeup</h3>
                <p class="text-xl font-bold text-amber-600">KSh 3000</p>
            </div>
            <div class="card bg-white rounded-xl p-6 text-center border border-blue-200 shadow-md cursor-pointer transition transform hover:scale-105" data-service="Eyelash Extensions" data-price="4000">
                <h3 class="text-2xl font-semibold text-blue-950 mb-2">Eyelash Extensions</h3>
                <p class="text-xl font-bold text-amber-600">KSh 4000</p>
            </div>
        </div>
    </section>

<section id="images" class="py-12">
    <h2 class="section-title text-3xl font-bold text-center text-blue-950 mb-8">Our Work</h2>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4 bg-blue-100 rounded-xl shadow-md border border-blue-200">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/hairstyle.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Hairstyle'" alt="Client with beautiful hairstyle">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/makeup.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Makeup'" alt="Client with professional makeup">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/eyelashes.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Eyelashes'" alt="Close-up of lash extensions">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/nails.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Nails'" alt="Intricate nail art design">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/facial.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Facial'" alt="Client receiving a facial treatment">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/s.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Highlights'" alt="Hair highlights service">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/pedicure.jpeg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Pedicure'" alt="Bridal makeup for a wedding">
        <img class="w-full h-48 object-cover rounded-lg shadow-lg transform transition-transform duration-300 hover:scale-105" src="images/scrubbing.jpg" onerror="this.src='https://placehold.co/400x300/555/fff?text=Manicure'" alt="Professional manicure service">
    </div>
</section>

    <section id="contact" class="py-12">
        <h2 class="section-title text-3xl font-bold text-center text-blue-950 mb-8">Contact Us</h2>
        <div class="bg-blue-100 p-8 rounded-xl shadow-md border border-blue-200 text-center">
            <div class="flex flex-col md:flex-row items-center justify-center gap-8 text-blue-800">
                <div class="flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-amber-600 mb-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                    </svg>
                    <p class="font-semibold">Email</p>
                    <p>contact@baddiebeautyparlour.com</p>
                </div>
                <div class="flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-amber-600 mb-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h1.5a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.35-1.005-.988-1.124a41.45 41.45 0 00-5.626-.806 1.125 1.125 0 01-1.07-1.328l2.812-4.148a2.25 2.25 0 00-2.4-3.414l-2.411.391a4.5 4.5 0 00-1.815 5.093l-.004.004-.32.553a3.75 3.75 0 01-1.258 1.487.75.75 0 00-.585.585 3.75 3.75 0 01-1.487 1.258l-.553.32a4.5 4.5 0 00-5.093 1.815z" />
                    </svg>
                    <p class="font-semibold">Phone</p>
                    <p>+254 790 521-749</p>
                </div>
                <div class="flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-amber-600 mb-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 1.518-.52 2.92-1.398 4.048-1.574 2.106-4.542 5.087-5.59 6.225-1.048-1.138-4.016-4.119-5.59-6.225-1.62-2.164-2.41-4.708-2.41-7.548 0-4.636 4.39-8.455 9.79-8.455S21.5 5.864 21.5 10.5c0 2.84-1.07 5.384-2.41 7.548z" />
                    </svg>
                    <p class="font-semibold">Address</p>
                    <p>123 Thika Arcade, Pineapple City</p>
                </div>
            </div>
        </div>
    </section>

</div>

<div id="booking-modal" class="modal-overlay">
    <div class="modal-content bg-white p-8 rounded-xl shadow-2xl max-w-lg w-full mx-4 relative">
        <button id="close-booking-modal-btn" class="absolute top-4 right-4 text-blue-800 hover:text-blue-950 transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        <h2 class="text-3xl font-bold text-center text-blue-950 mb-8">Book Your Session</h2>
        <form action="#" method="POST" id="booking-form" class="space-y-6">
            <input type="hidden" name="action" value="book_appointment">
            <div>
                <label for="client_name" class="block text-sm font-medium text-blue-800 mb-1">Your Name</label>
                <input type="text" id="client_name" name="client_name" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
            </div>
            <div>
                <label for="client_email" class="block text-sm font-medium text-blue-800 mb-1">Your Email</label>
                <input type="email" id="client_email" name="client_email" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
            </div>
            <div>
                <label for="service_select" class="block text-sm font-medium text-blue-800 mb-1">Select Service</label>
                <select id="service_select" name="service" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
                    <option value="" disabled selected>Choose a service</option>
                </select>
            </div>
            <div>
                <label for="price_display" class="block text-sm font-medium text-blue-800 mb-1">Total Price</label>
                <div id="price_display" class="w-full p-3 rounded-lg bg-blue-100 text-amber-600 text-xl font-extrabold border border-blue-200">
                    KSh 0
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="appointment_date" class="block text-sm font-medium text-blue-800 mb-1">Date</label>
                    <input type="date" id="appointment_date" name="appointment_date" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
                </div>
                <div>
                    <label for="appointment_time" class="block text-sm font-medium text-blue-800 mb-1">Time</label>
                    <input type="time" id="appointment_time" name="appointment_time" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
                </div>
            </div>
            <button type="submit" class="w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-amber-600 focus:ring-offset-2 focus:ring-offset-white">
                Book Now
            </button>
        </form>
    </div>
</div>

<div id="mpesa-modal" class="modal-overlay">
    <div class="modal-content bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full mx-4 relative">
        <button id="close-mpesa-modal-btn" class="absolute top-4 right-4 text-blue-800 hover:text-blue-950 transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        <h2 class="text-3xl font-bold text-center text-blue-950 mb-8">Confirm Payment</h2>
        <div id="mpesa-summary" class="booking-summary">
        </div>
        <form action="#" method="POST" id="mpesa-form" class="space-y-6">
            <input type="hidden" name="action" value="initiate_mpesa_stk">
            <div>
                <label for="phone" class="block text-sm font-medium text-blue-800 mb-1">M-Pesa Phone Number</label>
                <input type="tel" id="phone" name="phone" required placeholder="e.g., 254712345678" class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
            </div>
            <button type="submit" class="w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-amber-600 focus:ring-offset-2 focus:ring-offset-white">
                Initiate STK Push
            </button>
        </form>
    </div>
</div>

<div id="admin-modal" class="modal-overlay">
    <div class="modal-content bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full mx-4 relative">
        <button id="close-admin-modal-btn" class="absolute top-4 right-4 text-blue-800 hover:text-blue-950 transition duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
        <h2 class="text-3xl font-bold text-center text-blue-950 mb-8">Admin Login</h2>
       <form action="#" method="POST" id="admin-form" class="space-y-6">
            <input type="hidden" name="action" value="admin_login">
            <div>
                <label for="username" class="block text-sm font-medium text-blue-800 mb-1">Username</label>
                <input type="text" id="username" name="username" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
            </div>
            <div>
                <label for="password" class="block text-sm font-medium text-blue-800 mb-1">Password</label>
                <input type="password" id="password" name="password" required class="w-full p-3 rounded-lg bg-blue-100 text-blue-950 placeholder-blue-400 focus:outline-none focus:ring-2 focus:ring-amber-600 transition duration-200">
            </div>
            <button type="submit" class="w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-amber-600 focus:ring-offset-2 focus:ring-offset-white">
                Log In
            </button>
        </form>
    </div>
</div>

<div id="confirmation-modal" class="modal-overlay">
    <div class="modal-content bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full mx-4">
        <div class="text-center mb-6">
            <svg class="mx-auto mb-4 w-16 h-16 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <h3 id="modal-title" class="text-2xl font-bold text-blue-950 mb-2"></h3>
            <p id="modal-message" class="text-blue-800"></p>
        </div>
        <button id="close-confirmation-modal-btn" class="w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-amber-600 focus:ring-offset-2 focus:ring-offset-white">
                    Close
        </button>
    </div>
</div>

<div class="chatbot-container">
    <button id="chatbot-toggle-btn" class="bg-amber-600 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:bg-amber-700 transition duration-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"/>
        </svg>
    </button>
</div>

<div id="chatbot-window" class="chatbot-window chatbot-container">
    <div class="bg-blue-900 text-white p-4 rounded-t-xl flex justify-between items-center">
        <h3 class="font-bold">Baddie Beauty Assistant</h3>
        <button id="chatbot-close-btn" class="text-white hover:text-amber-300">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    </div>
    <div id="chat-messages" class="chat-messages flex flex-col space-y-3">
        <div class="bot-message message">Hello! How can I assist you with your beauty needs today?</div>
    </div>
    <div class="p-4 bg-white border-t border-gray-200">
        <form id="chatbot-form" class="flex space-x-2">
            <input type="text" id="chatbot-input" class="flex-grow p-3 rounded-full bg-blue-100 text-blue-950 focus:outline-none focus:ring-2 focus:ring-amber-600" placeholder="Type your message...">
            <button type="submit" class="bg-amber-600 text-white rounded-full w-10 h-10 flex items-center justify-center hover:bg-amber-700 transition duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M2 12l2.3 2.3L12 12l-7.7-2.3zM12 2l-2.3 7.7L12 12l2.3-7.7zM12 22l2.3-7.7L12 12l-2.3 7.7z"/>
                </svg>
            </button>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Data
        const services = {
            "Haircut": 1500,
            "Manicure": 1200,
            "Pedicure": 1300,
            "Facial": 2500,
            "Makeup": 3000,
            "Eyelash Extensions": 4000
        };

        // Modal Elements
        const bookingModal = document.getElementById('booking-modal');
        const adminModal = document.getElementById('admin-modal');
        const mpesaModal = document.getElementById('mpesa-modal');
        const confirmationModal = document.getElementById('confirmation-modal');

        // Buttons
        const bookAppointmentBtn = document.getElementById('book-appointment-btn');
        const adminLoginBtnNav = document.getElementById('admin-login-btn-nav');
        const closeBookingModalBtn = document.getElementById('close-booking-modal-btn');
        const closeAdminModalBtn = document.getElementById('close-admin-modal-btn');
        const closeMpesaModalBtn = document.getElementById('close-mpesa-modal-btn');
        const closeConfirmationModalBtn = document.getElementById('close-confirmation-modal-btn');

        // Forms
        const bookingForm = document.getElementById('booking-form');
        const adminForm = document.getElementById('admin-form');
        const mpesaForm = document.getElementById('mpesa-form');

        // Other elements
        const serviceSelect = document.getElementById('service_select');
        const priceDisplay = document.getElementById('price_display');
        const mpesaSummary = document.getElementById('mpesa-summary');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');
        const chatToggleBtn = document.getElementById('chatbot-toggle-btn');
        const chatCloseBtn = document.getElementById('chatbot-close-btn');
        const chatWindow = document.getElementById('chatbot-window');
        const chatForm = document.getElementById('chatbot-form');
        const chatInput = document.getElementById('chatbot-input');
        const chatMessages = document.getElementById('chat-messages');

        // Functions to show/hide modals
        const showModal = (modal) => {
            modal.classList.add('active');
        };
        const hideModal = (modal) => {
            modal.classList.remove('active');
        };
        const showConfirmation = (title, message) => {
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            showModal(confirmationModal);
        };

        // Populating the services dropdown
        for (const [service, price] of Object.entries(services)) {
            const option = document.createElement('option');
            option.value = service;
            option.setAttribute('data-price', price);
            option.textContent = `${service} - KSh ${price}`;
            serviceSelect.appendChild(option);
        }

        // Event Listeners for modals
        bookAppointmentBtn.addEventListener('click', () => showModal(bookingModal));
        adminLoginBtnNav.addEventListener('click', () => showModal(adminModal));
        
        closeBookingModalBtn.addEventListener('click', () => hideModal(bookingModal));
        closeAdminModalBtn.addEventListener('click', () => hideModal(adminModal));
        closeMpesaModalBtn.addEventListener('click', () => hideModal(mpesaModal));
        closeConfirmationModalBtn.addEventListener('click', () => hideModal(confirmationModal));
        
        // Update price on service selection
        serviceSelect.addEventListener('change', () => {
            const selectedOption = serviceSelect.options[serviceSelect.selectedIndex];
            const price = selectedOption.getAttribute('data-price');
            priceDisplay.textContent = `KSh ${price}`;
        });

        // Handle booking form submission
        bookingForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(bookingForm);
            const clientName = formData.get('client_name');
            const clientEmail = formData.get('client_email');
            const service = formData.get('service');
            const date = formData.get('appointment_date');
            const time = formData.get('appointment_time');
            const price = services[service];

            mpesaSummary.innerHTML = `
                <p><strong>Name:</strong> ${clientName}</p>
                <p><strong>Service:</strong> ${service}</p>
                <p><strong>Date:</strong> ${date}</p>
                <p><strong>Time:</strong> ${time}</p>
                <p><strong>Amount:</strong> KSh ${price}</p>
            `;

            hideModal(bookingModal);
            showModal(mpesaModal);
        });

        // Handle M-Pesa form submission
        mpesaForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const phone = document.getElementById('phone').value;
            // Simulate STK Push initiation
            hideModal(mpesaModal);
            showConfirmation('Payment Initiated', `A payment request has been sent to ${phone}. Please approve the transaction.`);
        });

        // Handle admin login form submission
        adminForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            hideModal(adminModal);

            if (username === 'admin' && password === 'password') {
                showConfirmation('Success!', 'Admin login successful. Welcome!');
            } else {
                showConfirmation('Login Failed', 'Invalid username or password.');
            }
        });

        // Chatbot functionality
        chatToggleBtn.addEventListener('click', () => {
            chatWindow.style.display = 'flex';
            chatToggleBtn.style.display = 'none';
        });

        chatCloseBtn.addEventListener('click', () => {
            chatWindow.style.display = 'none';
            chatToggleBtn.style.display = 'flex';
        });

        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userMessage = chatInput.value.trim();
            if (userMessage === '') return;

            // Add user message to chat
            const userMsgDiv = document.createElement('div');
            userMsgDiv.className = 'message user-message';
            userMsgDiv.textContent = userMessage;
            chatMessages.appendChild(userMsgDiv);
            chatInput.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate bot response
            setTimeout(() => {
                const botResponse = getBotResponse(userMessage);
                const botMsgDiv = document.createElement('div');
                botMsgDiv.className = 'message bot-message';
                botMsgDiv.textContent = botResponse;
                chatMessages.appendChild(botMsgDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        });

        function getBotResponse(message) {
            const lowerCaseMsg = message.toLowerCase();
            if (lowerCaseMsg.includes('hello') || lowerCaseMsg.includes('hi')) {
                return 'Hi there! How can I help you?';
            } else if (lowerCaseMsg.includes('services') || lowerCaseMsg.includes('pricing')) {
                return 'We offer a variety of services, including haircuts, manicures, pedicures, and facials. You can view our full price list on the Services & Pricing section of the website!';
            } else if (lowerCaseMsg.includes('appointment') || lowerCaseMsg.includes('book')) {
                return 'You can book an appointment by clicking the "BOOK APPOINTMENT" button on the homepage. Just fill in the form with your details!';
            } else if (lowerCaseMsg.includes('contact')) {
                return 'You can reach us by phone at +254 790 521-749 or by email at contact@baddiebeautyparlour.com.';
            } else {
                return 'I am a simple bot. I can help with general questions about our services. Try asking about "services" or "booking an appointment".';
            }
        }
    });
</script>

</body>
</html>